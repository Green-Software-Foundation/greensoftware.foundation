---
interface CardItem {
  icon?: string;
  title: string;
  description: string;
  featured?: boolean;
}

interface Props {
  /** Section heading */
  heading?: string;
  /** Accent portion of heading */
  headingAccent?: string;
  /** Body text under heading */
  body?: string;
  /** Array of card items */
  cards?: CardItem[];
  /** Number of columns */
  columns?: 2 | 3 | 4;
  /** Background class */
  bgClass?: string;
}

const columnClasses = {
  2: "sm:grid-cols-2",
  3: "sm:grid-cols-2 lg:grid-cols-3",
  4: "sm:grid-cols-2 lg:grid-cols-4",
};

const {
  heading = "",
  headingAccent = "",
  body = "",
  cards = [],
  columns = 4,
  bgClass = "bg-accent-lightest-2",
} = Astro.props;
---

<section class={`py-16 md:py-20 ${bgClass}`}>
  <div class="container">
    {(heading || body) && (
      <div class="text-center">
        <h2 class="text-2xl font-extrabold md:text-3xl lg:text-4xl">
          {heading} {headingAccent && <span class="text-primary">{headingAccent}</span>}
        </h2>
        {body && (
          <p class="mx-auto mt-4 max-w-2xl text-base text-primary-dark">{body}</p>
        )}
      </div>
    )}
    <div class={`mt-12 grid gap-6 ${columnClasses[columns]}`}>
      {cards.map((card) => (
        <div class:list={[
          "rounded-lg p-6 shadow-sm",
          card.featured ? "bg-primary-darker text-white" : "border bg-white",
        ]}>
          {card.icon && <img src={card.icon} alt="" class="mb-4 h-10 w-10" />}
          <hr class:list={["my-4", card.featured ? "border-white/20" : "border-border"]} />
          <h3 class="text-lg font-bold">{card.title}</h3>
          <p class:list={["mt-2 text-sm", card.featured ? "text-white/80" : "text-gray-darker"]}>
            {card.description}
          </p>
        </div>
      ))}
    </div>
  </div>
</section>
