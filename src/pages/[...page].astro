---
import { getCollection, render } from "astro:content";
import Layout from "@/layouts/showcase.astro";
import Navbar from "@/components/navbar.astro";
import Footer from "@/components/footer.astro";

export async function getStaticPaths() {
  const pages = await getCollection("pages");
  return pages.map((page) => ({
    params: { page: page.data.slug },
    props: { page },
  }));
}

const { page } = Astro.props;
const { Content } = await render(page);
---

<Layout>
  <Navbar />
  <div class="py-16 md:py-20 bg-white">
    <div class="container">
      <div class="max-w-3xl mx-auto">
        <h1 class="text-4xl md:text-5xl font-extrabold text-primary mb-10">
          {page.data.title}
        </h1>
        <div class="prose prose-lg max-w-none">
          <Content />
        </div>
      </div>
    </div>
  </div>
  <Footer />
</Layout>
